(()=>{"use strict";var t={250:(t,i,o)=>{o.d(i,{A:()=>s});var n,e=(n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},n(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)});const s=function(t){function i(i,o,n,e,s){void 0===o&&(o=30),void 0===n&&(n=40),void 0===e&&(e=1),void 0===s&&(s="rgb(46,46,46)");var r=t.call(this)||this;return r.canvas=i,r.width=o,r.height=n,r.multiplier=e,r.backgroundColor=s,r.context=r.canvas.getContext("2d"),r}return e(i,t),i.prototype.create=function(){this.canvas.width=this.width*this.multiplier,this.canvas.height=this.height*this.multiplier,this.canvas.style.backgroundColor=this.backgroundColor},i.prototype.clear=function(){this.context.clearRect(0,0,this.width*this.multiplier,this.height*this.multiplier)},i}(function(){function t(){}return t.LEFT_BOUNDARY="LEFT",t.TOP_BOUNDARY="TOP",t.RIGHT_BOUNDARY="RIGHT",t.BOTTOM_BOUNDARY="BOTTOM",t}())},89:(t,i,o)=>{o.d(i,{A:()=>e});var n=o(441);const e=function(){function t(t){this.snake=t}return t.prototype.init=function(){var t=this;window.addEventListener("keydown",(function(i){"ArrowLeft"!==i.key||n.A.isSameDirection(n.A.RIGHT,t.snake.directionXY)||(t.snake.directionXY=n.A.LEFT),"ArrowRight"!==i.key||n.A.isSameDirection(n.A.LEFT,t.snake.directionXY)||(t.snake.directionXY=n.A.RIGHT),"ArrowDown"!==i.key||n.A.isSameDirection(n.A.UP,t.snake.directionXY)||(t.snake.directionXY=n.A.DOWN),"ArrowUp"!==i.key||n.A.isSameDirection(n.A.DOWN,t.snake.directionXY)||(t.snake.directionXY=n.A.UP)}))},t}()},441:(t,i,o)=>{o.d(i,{A:()=>n});const n=function(){function t(){}return t.isSameDirection=function(t,i){return t.every((function(t,o){return t===i[o]}))},t.LEFT=[-1,0],t.RIGHT=[1,0],t.DOWN=[0,1],t.UP=[0,-1],t}()},86:(t,i,o)=>{o.d(i,{A:()=>n});const n=function(){function t(t,i){void 0===i&&(i="red"),this.size=t,this.color=i,this.positionX=0,this.positionY=0}return t.prototype.setPosition=function(t,i){this.positionX=t,this.positionY=i},t.prototype.draw=function(t){t.fillStyle="red",t.beginPath(),t.rect(this.positionX,this.positionY,this.size,this.size),t.fill(),t.closePath()},t}()},468:(t,i,o)=>{o.d(i,{A:()=>e});var n=o(185);const e=function(){function t(t,i,o,e){this.snake=t,this.food=i,this.canvas=o,this.control=e,this._isGameOver=!1,this._score=0;var s=n.A.getIntegerRandomNumberBetween(0,this.canvas.width)*this.canvas.multiplier,r=n.A.getIntegerRandomNumberBetween(0,this.canvas.height)*this.canvas.multiplier;this.food.setPosition(s,r),this.canvas.create(),this.control.init()}return t.prototype.isGameOver=function(t){if(void 0===t)return this._isGameOver;this._isGameOver=t},t.prototype.addScore=function(t){this._score+=t},t.prototype.setMessage=function(t){t.show(this.canvas.context,this.canvas)},t.prototype.play=function(t){if(this.snake.isCollideWithWall(this.canvas)&&this.isGameOver(!0),this.snake.move(),this.snake.isEatThePrey(this.food)){var i=n.A.getIntegerRandomNumberBetween(0,this.canvas.width)*this.canvas.multiplier,o=n.A.getIntegerRandomNumberBetween(0,this.canvas.height)*this.canvas.multiplier;this.food.setPosition(i,o),this.snake.grow()}this.snake.draw(t),this.food.draw(t)},t}()},156:(t,i,o)=>{var n=o(927),e=document.querySelector("canvas");if(!e.getContext("2d"))throw new Error("Your browser does not support Canvas 2d");n.A.main(e)},927:(t,i,o)=>{o.d(i,{A:()=>u});var n=o(250),e=o(89),s=o(441),r=o(86),h=o(468),a=o(247),c=o(772),p=o(185);const u=function(){function t(){}return t.main=function(t){var i=this,o=new n.A(t,30,40,10),a=new c.A({directionXY:s.A.RIGHT,speed:1,size:10,positionX:[p.A.getCanvasMiddlePosition(o).positionX],positionY:[p.A.getCanvasMiddlePosition(o).positionY],color:"white"}),u=new r.A(10),l=new e.A(a),d=new h.A(a,u,o,l);this.requestId=window.requestAnimationFrame((function(){return i.run(d,o)}))},t.run=function(t,i){var o=this;if(t.isGameOver())return t.setMessage(new a.F("Game Over!")),window.cancelAnimationFrame(this.requestId);i.clear(),t.play(i.context),setTimeout((function(){o.requestId=window.requestAnimationFrame((function(){return o.run(t,i)}))}),100)},t.requestId=0,t}()},247:(t,i,o)=>{o.d(i,{F:()=>n});var n=function(){function t(t,i,o){void 0===i&&(i="white"),void 0===o&&(o="50px Arial"),this.message=t,this.color=i,this.font=o}return t.prototype.show=function(t,i){t.font=this.font,t.fillStyle=this.color;var o=t.measureText(this.message);t.fillText(this.message,(i.width*i.multiplier-o.width)/2,(i.height*i.multiplier+o.actualBoundingBoxAscent)/2)},t}()},772:(t,i,o)=>{o.d(i,{A:()=>n});const n=function(){function t(t){this._isEatSelf=!1,this.directionXY=t.directionXY,this.speed=t.speed,this.size=t.size,this.color=t.color,this.positionXY=[{positionX:t.positionX[0]*this.size,positionY:t.positionY[0]*this.size}]}return t.prototype.isEatThePrey=function(t){var i=t.positionX+t.size/2,o=t.positionY+t.size/2,n=i>this.positionXY[0].positionX&&i<this.positionXY[0].positionX+this.size,e=o>this.positionXY[0].positionY&&o<this.positionXY[0].positionY+this.size;return n&&e},t.prototype.grow=function(){this.positionXY.push({positionX:this.positionXY[this.positionXY.length-1].positionX,positionY:this.positionXY[this.positionXY.length-1].positionY})},t.prototype.draw=function(t){var i=this;this.positionXY.forEach((function(o){t.fillStyle=i.color,t.beginPath(),t.fillRect(o.positionX,o.positionY,i.size,i.size),t.fill(),t.closePath()}))},t.prototype.move=function(){for(var t=this.nextMovePosition().positionX,i=this.nextMovePosition().positionY,o=(this.size,this.size,this.positionXY.length-1);o>0;o--){var n=this.positionXY[o-1].positionX,e=this.positionXY[o-1].positionY;this.positionXY[o].positionX=n,this.positionXY[o].positionY=e}this.positionXY[0].positionX=t,this.positionXY[0].positionY=i},t.prototype.nextMovePosition=function(){return{positionX:this.positionXY[0].positionX+this.directionXY[0]*this.speed*this.size,positionY:this.positionXY[0].positionY+this.directionXY[1]*this.speed*this.size}},t.prototype.isCollideWithWall=function(t,i){var o={RIGHT_BOUNDARY:this.positionXY[0].positionX+this.size>t.width*t.multiplier,LEFT_BOUNDARY:this.positionXY[0].positionX<0,BOTTOM_BOUNDARY:this.positionXY[0].positionY+this.size>t.height*t.multiplier,TOP_BOUNDARY:this.positionXY[0].positionY<0},n=Object.values(o).some((function(t){return t}));return i?o[i]:n},t}()},613:()=>{},185:(t,i,o)=>{o.d(i,{A:()=>n});const n=function(){function t(){}return t.getIntegerRandomNumberBetween=function(t,i){return Math.floor(Math.random()*(i-t)+t)},t.getCanvasMiddlePosition=function(t){return{positionX:Math.floor(t.width/2),positionY:Math.floor(t.height/2)}},t}()}},i={};function o(n){var e=i[n];if(void 0!==e)return e.exports;var s=i[n]={exports:{}};return t[n](s,s.exports,o),s.exports}o.d=(t,i)=>{for(var n in i)o.o(i,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),o(250),o(89),o(441),o(86),o(468),o(156),o(927),o(247),o(772),o(613),o(185)})();